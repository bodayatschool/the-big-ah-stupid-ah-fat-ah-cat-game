namespace SpriteKind {
    export const BED = SpriteKind.create()
}
controller.player1.onButtonEvent(ControllerButton.A, ControllerButtonEvent.Pressed, function () {
    if (patrick.vy == 0) {
        patrick.vy = -170
    }
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile2`, function (sprite, location) {
    game.gameOver(true)
})
controller.player2.onButtonEvent(ControllerButton.A, ControllerButtonEvent.Pressed, function () {
    if (old_cat.vy == 0) {
        old_cat.vy = -170
    }
})
info.onLifeZero(function () {
    game.gameOver(false)
})
let old_cat: Sprite = null
let patrick: Sprite = null
scene.setBackgroundImage(img`
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999ddddddddddddd99999999999999999
    99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999444999999999999999999999dd5555555555555dd999999999999999
    999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999994444499999999999999dd55555555555555555dd9999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999499999999999dd555555555555555555555dd99999999999
    999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999994499999999d5555555555555555555555555d9999999999
    99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999d555555555555555555555555555d999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999d55555555555555555555555555555d99999999
    999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999d5555555555555555555555555555555d9999999
    99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999d555555555555555555555555555555555d999999
    99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999d555555555555555555555555555555555d999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999d55555555555555555555555555555555555d99999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999d55555555555555555555555555555555555d99999
    999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999d5555555555555555555555555555555555555d9999
    999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999d5555555555555555555555555555555555555d9999
    99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999d555555555555555555555555555555555555555d999
    99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999944444449999999d555555555555555555555555555555555555555d999
    9999999999999999999999999dddddddddddddddddddd99999999999999999999999999999999999999999999999999444999499999999999999d555555555555555555555555555555555555555d999
    9999999999999999999dddddddddddddddddddddddddddddd9999999999999999999999999999999999999999999999999444499999999999999d555555555555555555555555555555555555555d999
    999999999999999999d11111111111111111111111111ddddddd9999999999999999999999999999999999999999999999999999999999999999d555555555555555555555555555555555555555d999
    99999999999999999d1111111111111111111111111111dddddddd99999999999999999999999999999999999999999999999999999999999999d555555555555555555555555555555555555555d999
    99999999999999999d1111111111111111111111111111111111dddd999999999999999999999999999999999999999999999999999999999999d555555555555555555555555555555555555555d999
    9999999999999999d1111111111111111111111111111111111111dddd9999999999999999999999999999999999999999999999999999999999d555555555555555555555555555555555555555d999
    999999999999999dd11111111111111111111111111111111111111ddd9999999999999999999999999999999999999999999999999999999999d555555555555555555555555555555555555555d999
    999999999999999d1111111111111111111111111111111111111111ddd999999999999999999999999999999999999999999999999999999999d555555555555555555555555555555555555555d999
    999999999999999d11111111111111111111111111111111111111111ddd99999999999999999999999999999999999999999999999999999999d555555555555555555555555555555555555555d999
    999999999999999d111111111111111111111111111111111111111111ddd9999999999999999999999999999999999999999999999999999999d555555555555555555555555555555555555555d999
    999999999999999d111111111111111111111111111111111111111111dddd999999999999999999999999999999999999999999999999999999d555555555555555555555555555555555555555d999
    999999999999999d11111111111111111111111111111111111111111111dd9999999999999999999999999999999999999999999999999999999d5555555555555555555555555555555555555d9999
    999999999999999d11111111111111111111111111111111111111111111dd9999999999999999999999999999999999999999999999999999999d5555555555555555555555555555555555555d9999
    999999999999999dd1111111111111111111111111111111111111111111dd99999999999999999999999999999999999999999999999999999999d55555555555555555555555555555555555d99999
    99999999999999999dd1111111111111111111111111111111111111111ddd99999999999999999999999999999999999999999999999999999999d55555555555555555555555555555555555d99999
    9999999999999999999ddd1111111111111111111111111111111111111ddd999999999999999999999999999999999999999999999999999999999d555555555555555555555555555555555d999999
    9999999999999999999999d111111111111111111111111111111111ddddd9999999999999999999999999999999999999999999999999944999999d555555555555555555555555555555555d999999
    99999999999999999999999dd11111111111111111111111111111dddddd999999999999999999999999999999999999999999999999999499999999d5555555555555555555555555555555d9999999
    9999999999999999999999999dd1111111111111111111111111dddddd999999999999999999999999999999999999999999999999999994999999999d55555555555555555555555555555d99999999
    999999999999999999999999999ddddddddddddddddddddddddddddd999999999999999999999999999999999999999999999999999999949999999999d555555555555555555555555555d999999999
    999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999499999999999d5555555555555555555555555d9999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999944999999999999dd555555555555555555555dd99999999999
    999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999994999999999999999dd55555555555555555dd9999999999999
    99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999994499999999999999999dd5555555555555dd999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999994499999999999999999999ddddddddddddd99999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999944999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999449999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999499999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999994499999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999944999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999944999999999999999999949999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999994999999999999999999949999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999994499999999999999999949999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999499999999999999999949999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999994499999999999999999949999999
    99999999999999999999999999999999999999999999999ddddddddddddddddddddddd999999999999999999999999999999999999999999999999999999999999944999999999999999999994499999
    999999999999999999999999999999999999999999999ddddddddddddddddddddddddddddd99999999999999999999999999999999999999999999999999999999949999999999999999999999499999
    99999999999999999999999999999999999999999999d1111111111111111111111dddddddd9999999999999999999999999999999999999999999999999999999949999999999999999999994999999
    9999999999999999999999999999999999999999999d111111111111111111111111111ddddddd9999999999999999999999999999999999999999999999999999499999999999999999999994999999
    9999999999999999999999999999999999999999999d11111111111111111111111111111111dddd99999999999999999999999999999999999999999999999999499999999999999999999994499999
    9999999999999999999999999999999999999999999d1111111111111111111111111111111111ddddd99999999999999999999999999999999999999999999994999999999999999999999444499999
    9999999999999999999999999999999999999999999d111111111111111111111111111111111111ddddd999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999d1111111111111111111111111111111111111ddddd99999999999999999999999999999999999999999999999999999999999999999999999999
    99999999999999999999999999999999999999999999d111111111111111111111111111111111111111ddd9999999999999999999999999999999999999999999999999999999999999999999999999
    99999999999999999999999999999999999999999999d1111111111111111111111111111111111111111ddd999999999999999999999999999999999999999999999999999999999999999999999999
    99999999999999999999999999999999999999999999d1111111111111111111111111111111111111111dddd99999999999999999999999999999999999999999999999999999999999999999999999
    999999999999999999999999999999999999999999999d1111111111111111111111111111111111111111dddd9999999999999999999999999999999999999999999999999999999999999999999999
    999999999999999999999999999999999999999999999d11111111111111111111111111111111111111111ddd9999999999999999999999999999999999999999999999999999999999999999999999
    999999999999999999999999999999999999999999999d111111111111111111111111111111111111111111dd9999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999d111111111111111111111111111111111111111111dd999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999d111111111111111111111111111111111111111111dd999999999999999999999999999999999999999999999999999999999999999999999
    99999999999999999999999999999999999999999999999d11111111111111111111111111111111111111111dd999999999999999999999999999999999999999999999999999999999999999999999
    999999999999999999999999999999999999999999999999d1111111111111111111111111111111111111111ddd99999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999dd11111111111111111111111111111111111111ddd99999999999999999999999999999999999999999999999999999999999999999999
    999999999999999999999999999999999999999999999999999d1111111111111111111111111111111111111ddd99999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999dddd111111111111111111111111111111111dd999999999999999999999999999999999999999999999999999999999999999999999
    99999999999999999999999999999999999999999999999999999999ddd11111111111111111111111111111dd9999999999999999999999999999999999999999999999999999999999999999999999
    99999999999999999999999999999999999999999999999999999999999ddddd11111111111111111111dddd999999999999999999999999ddddddddddddddddddddd999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999dddddddddddddddddddd999999999999999999999dddddddddddddddddddddddddddddd9999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999ddddd11111111111111111111ddddddddddddd9999999999999999999999
    99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999ddd11111111111111111111111111111111dddddd999999999999999999999
    99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999dd11111111111111111111111111111111111d1ddd99999999999999999999
    9999999999999999999dddddddddddddddddddddddddddddd999999999999999999999999999999999999999999999999dd111111111111111111111111111111111111111dddd999999999999999999
    99999999999999999ddddddddddddddddddddddddddddddddddd999999999999999999999999999999999999999999999d11111111111111111111111111111111111111111dddd99999999999999999
    9999999999999999dddd11111111111111111111111111dddddddd999999999999999999999999999999999999999999d11111111111111111111111111111111111111111111dddd999999999999999
    99999999999999999d1111111111111111111111111111111111dddd9999999999999999999999999999999999999999d11111111111111111111111111111111111111111111ddddd99999999999999
    99999999999999999d11111111111111111111111111111111111dddd99999999999999999999999999999999999999d111111111111111111111111111111111111111111111dddddd9999999999999
    99999999999999999d1111111111111111111111111111111111111ddd9999999999999999999999999999999999999d1111111111111111111111111111111111111111111111111dd9999999999999
    99999999999999999d11111111111111111111111111111111111111dd999999999999999999999999999999999999d111111111111111111111111111111111111111111111111111dd999999999999
    99999999999999999d111111111111111111111111111111111111111dd99999999999999999999999999999999999d111111111111111111111111111111111111111111111111111dd999999999999
    99999999999999999d1111111111111111111111111111111111111111dd9999999999999999999999999999999999d111111111111111111111111111111111111111111111111111dd999999999999
    99999999999999999d1111111111111111111111111111111111111111dd9999999999999999999999999999999999d111111111111111111111111111111111111111111111111111dd999999999999
    99999999999999999d1111111111111111111111111111111111111111dd9999999999999999999999999999999999d111111111111111111111111111111111111111111111111111dd999999999999
    99999999999999999d1111111111111111111111111111111111111111dd9999999999999999999999999999999999d111111111111111111111111111111111111111111111111111dd999999999999
    999999999999999999d111111111111111111111111111111111111111dd9999999999999999999999999999999999d111111111111111111111111111111111111111111111111111dd999999999999
    999999999999999999d111111111111111111111111111111111111111dd99999999999999999999999999999999999d11111111111111111111111111111111111111111111111111dd999999999999
    999999999999999999dd1111111111111111111111111111111111111dd999999999999999999999999999999999999d11111111111111111111111111111111111111111111111111dd999999999999
    9999999999999999999d111111111111111111111111111111111111ddd9999999999999999999999999999999999999d111111111111111111111111111111111111111111111111ddd999999999999
    9999999999999999999dd1111111111111111111111111111111111ddd99999999999999999999999999999999999999dd11111111111111111111111111111111111111111111111ddd999999999999
    99999999999999999999dd111111111111111111111111111111111dd99999999999999999999999999999999999999999d1111111111111111111111111111111111111111111111dd9999999999999
    9999999999999999999999d111111111111111111111111111111dddd999999999999999999999999999999999999999999d111111111111111111111111111111111111111111111dd9999999999999
    9999999999999999999999dd11111111111111111111111111111d9999999999999999999999999999999999999999999999d11111111111111111111111111111111111111111111d99999999999999
    999999999999999999999999d111111111111111111111111111d999999999999999999999999999999999999999999999999d111111111111111111111111111111111111111111d999999999999999
    9999999999999999999999999ddd11111111111111111111dddd99999999999999999999999999999999999999999999999999dd11111111111111111111111111111111111111dd9999999999999999
    9999999999999999999999999999ddd111111111111ddddd99999999999999999999999999999999999999999999999999999999d11111111111111111111111111111111111dd999999999999999999
    9999999999999999999999999999999dddddddddddd99999999999999999999999999999999999999999999999999999999999999dd1111111111111111111111111111111dd99999999999999999999
    99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999ddd111111111111111111111111dddd9999999999999999999999
    99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999dddddd111111111111111ddd99999999999999999999999999
    99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999ddddddddddddddd99999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    `)
patrick = sprites.create(assets.image`patrick`, SpriteKind.Player)
old_cat = sprites.create(assets.image`old cat`, SpriteKind.Player)
scene.cameraFollowSprite(patrick)
tiles.setCurrentTilemap(tilemap`niveau4`)
patrick.ay = 215
old_cat.ay = 215
info.setLife(3)
controller.player1.moveSprite(patrick, 100, 0)
controller.player2.moveSprite(old_cat, 100, 0)
forever(function () {
    pauseUntil(() => patrick.y == 753)
    info.changeLifeBy(-1)
    tiles.placeOnTile(patrick, tiles.getTileLocation(4, 30))
})
forever(function () {
    if (old_cat.vy == 0) {
        scene.cameraShake(12, 500)
        old_cat.startEffect(effects.ashes, 1000)
        pauseUntil(() => old_cat.vy != 0)
    }
})
forever(function () {
    if (patrick.vy == 0) {
        patrick.setImage(assets.image`patrick`)
        scene.cameraShake(12, 500)
        patrick.startEffect(effects.ashes, 1000)
        pauseUntil(() => patrick.vy != 0)
    }
})
